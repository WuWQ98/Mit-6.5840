ok  	6.5840/raft	463.148s
Test: one client (3A) ...
  ... Passed --  15.1  5  8542  849
Test: ops complete fast enough (3A) ...
  ... Passed --  16.4  3  7238    0
Test: many clients (3A) ...
  ... Passed --  15.5  5 21389 1516
Test: unreliable net, many clients (3A) ...
  ... Passed --  15.8  5  7633 1109
Test: concurrent append to same key, unreliable (3A) ...
  ... Passed --   1.7  3   274   52
Test: progress in majority (3A) ...
  ... Passed --   0.8  5    80    2
Test: no progress in minority (3A) ...
  ... Passed --   1.0  5   106    3
Test: completion after heal (3A) ...
  ... Passed --   1.0  5    64    3
Test: partitions, one client (3A) ...
  ... Passed --  23.1  5  8249  651
Test: partitions, many clients (3A) ...
  ... Passed --  23.2  5 35756 1455
Test: restarts, one client (3A) ...
  ... Passed --  21.2  5 19200  853
Test: restarts, many clients (3A) ...
  ... Passed --  21.6  5 60261 1508
Test: unreliable net, restarts, many clients (3A) ...
  ... Passed --  23.8  5  9461 1132
Test: restarts, partitions, many clients (3A) ...
  ... Passed --  30.1  5 40423 1246
Test: unreliable net, restarts, partitions, many clients (3A) ...
  ... Passed --  30.4  5  7538  823
Test: unreliable net, restarts, partitions, random keys, many clients (3A) ...
  ... Passed --  32.7  7 16548 1186
Test: InstallSnapshot RPC (3B) ...
  ... Passed --   2.9  3  4113   63
Test: snapshot size is reasonable (3B) ...
  ... Passed --   9.1  3  6260  800
Test: ops complete fast enough (3B) ...
  ... Passed --  11.1  3  7340    0
Test: restarts, snapshots, one client (3B) ...
  ... Passed --  21.1  5 22388 1388
Test: restarts, snapshots, many clients (3B) ...
2024/03/12 10:38:32 警告，出现意外程序行为
2024/03/12 10:38:34 警告，出现意外程序行为
2024/03/12 10:38:35 警告，出现意外程序行为
--- FAIL: TestSnapshotRecoverManyClients3B (7.01s)
    test_test.go:293: get wrong value, key 0, wanted:
        x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 yx 0 16 yx 0 17 yx 0 18 yx 0 19 yx 0 20 yx 0 21 yx 0 22 yx 0 23 yx 0 24 y
        , got
        x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 yx 0 16 yx 0 17 yx 0 18 yx 0 19 yx 0 20 yx 0 21 yx 0 22 yx 0 24 y
    test_test.go:126: failure
    test_test.go:144: 0 missing element x 0 23 y in Append result x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 yx 0 16 yx 0 17 yx 0 18 yx 0 19 yx 0 20 yx 0 21 yx 0 22 yx 0 24 y
Test: unreliable net, snapshots, many clients (3B) ...
  ... Passed --  16.3  5  7162 1016
Test: unreliable net, restarts, snapshots, many clients (3B) ...
  ... Passed --  22.2  5  8130  963
Test: unreliable net, restarts, partitions, snapshots, many clients (3B) ...
  ... Passed --  32.9  5  6381  599
Test: unreliable net, restarts, partitions, snapshots, random keys, many clients (3B) ...
panic: runtime error: index out of range [-2]

goroutine 1008268 [running]:
6.5840/raft.(*Raft).commit(0xc000244120)
	/Users/wuweiqiang/Documents/GoLand/wwq/6.5840/src/raft/raft.go:376 +0x1f4
created by 6.5840/raft.Make in goroutine 996592
	/Users/wuweiqiang/Documents/GoLand/wwq/6.5840/src/raft/raft.go:307 +0x3b4
FAIL	6.5840/kvraft	415.574s
FAIL
